<!-- tags: Vector -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Properties of Vector Addition</title>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <style>
        body {
            margin: 0;
            font-family: 'Segoe UI', Arial, sans-serif;
            background: #f8faf4;
            color: #263238;
        }
        .container {
            max-width: 950px;
            margin: 40px auto;
            padding: 32px 18px;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.08);
        }
        .title {
            font-size: 2em;
            font-weight: bold;
            color: #7b5e00;
            margin-bottom: 24px;
            text-align: center;
        }
        .formula-block {
            font-size: 1.25em;
            margin-bottom: 18px;
        }
        .formula {
            font-size: 1.35em;
            color: #263238;
            margin: 8px 0 8px 0;
            text-align: left;
        }
        .orange { color: #f57c00; font-weight: bold; }
        .blue { color: #1976d2; font-weight: bold; }
        .green { color: #388e3c; font-weight: bold; }
        .purple { color: #8e24aa; font-weight: bold; }
        .gray { color: #607d8b; font-weight: bold; }
        .note-box {
            background: #f0f4e7;
            border-left: 7px solid #bdb76b;
            border-radius: 10px;
            padding: 14px 18px;
            margin-top: 32px;
            color: #37474f;
            font-size: 1.13em;
            text-align: left;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        .img-row {
            display: flex;
            justify-content: center;
            gap: 32px;
            margin-top: 18px;
        }
        canvas.vector-diagram {
            background: #fff;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
            margin: 0 8px;
        }
        .diagram-label {
            text-align: center;
            font-size: 1em;
            color: #607d8b;
            margin-top: 6px;
        }
        @media (max-width: 700px) {
            .container {
                padding: 10px 2vw;
            }
            .title {
                font-size: 1.2em;
            }
            .formula {
                font-size: 1.1em;
            }
            canvas.vector-diagram {
                width: 98vw !important;
                max-width: 320px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">Properties of Vector Addition</div>
        <div class="formula-block">
            <div class="formula">
                1. &emsp; \( \vec{a} + \vec{b} = \) <span class="blue">\( \vec{b} + \vec{a} \)</span> &emsp; <span class="gray">Commutative Law</span>
            </div>
            <div class="formula">
                2. &emsp; \( (\vec{a} + \vec{b}) + \vec{c} = \vec{a} + \) <span class="orange">\( (\vec{b} + \vec{c}) \)</span> &emsp; <span class="gray">Associative Law</span>
            </div>
            <div class="formula">
                3. &emsp; \( \vec{a} + (-\vec{a}) = \) <span class="green">\( \vec{0} \)</span>
            </div>
            <div class="formula">
                4. &emsp; \( \vec{a} + \vec{0} = \) <span class="purple">\( \vec{a} \)</span>
            </div>
        </div>
        <div class="note-box">
            The commutative and associative laws (1, 2) can be confirmed using the diagrams below.
        </div>
        <!-- <div class="img-row">
            <div>
                <canvas id="commutative" class="vector-diagram" width="260" height="200"></canvas>
                <div class="diagram-label">[1] Commutative Law</div>
            </div>
            <div>
                <canvas id="associative" class="vector-diagram" width="260" height="200"></canvas>
                <div class="diagram-label">[2] Associative Law</div>
            </div>
        </div> -->
    </div>
    <script>
        // Draw commutative law: a + b = b + a (parallelogram)
        function drawCommutative(canvas) {
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Points
            const A = {x: 40, y: 160};
            const B = {x: 120, y: 120}; // a
            const C = {x: 60, y: 60};   // b

            // Calculate D = A + a + b
            const D = {x: A.x + (B.x - A.x) + (C.x - A.x), y: A.y + (B.y - A.y) + (C.y - A.y)};

            // Draw parallelogram
            ctx.strokeStyle = "#bbb";
            ctx.lineWidth = 1.5;
            ctx.beginPath();
            ctx.moveTo(A.x, A.y);
            ctx.lineTo(B.x, B.y);
            ctx.lineTo(D.x, D.y);
            ctx.lineTo(C.x, C.y);
            ctx.closePath();
            ctx.stroke();

            // Draw vectors a (blue) and b (orange)
            drawArrow(ctx, A, B, "#1976d2", "a", 18, -10);
            drawArrow(ctx, A, C, "#f57c00", "b", -18, -10);

            // a + b (from A via B to D)
            drawArrow(ctx, B, D, "#f57c00", "b", 10, -10, false);
            drawArrow(ctx, C, D, "#1976d2", "a", 10, 18, false);

            // Draw points
            drawPoint(ctx, A, "A", "#607d8b");
            drawPoint(ctx, B, "B", "#607d8b");
            drawPoint(ctx, C, "C", "#607d8b");
            drawPoint(ctx, D, "D", "#607d8b");
        }

        // Draw associative law: (a+b)+c = a+(b+c)
        function drawAssociative(canvas) {
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Points
            const A = {x: 40, y: 160};
            const B = {x: 120, y: 120}; // a
            const C = {x: 60, y: 60};   // b
            const D = {x: 180, y: 70};  // c

            // B = A + a
            // E = B + b
            const E = {x: B.x + (C.x - A.x), y: B.y + (C.y - A.y)};
            // F = E + c
            const F = {x: E.x + (D.x - A.x), y: E.y + (D.y - A.y)};
            // G = C + c
            const G = {x: C.x + (D.x - A.x), y: C.y + (D.y - A.y)};

            // Draw lines for both routes
            ctx.strokeStyle = "#bbb";
            ctx.lineWidth = 1.5;
            ctx.beginPath();
            ctx.moveTo(A.x, A.y); ctx.lineTo(B.x, B.y); // a
            ctx.lineTo(E.x, E.y); // b
            ctx.lineTo(F.x, F.y); // c
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(A.x, A.y); ctx.lineTo(C.x, C.y); // b
            ctx.lineTo(G.x, G.y); // c
            ctx.lineTo(F.x, F.y); // a
            ctx.stroke();

            // Draw vectors
            drawArrow(ctx, A, B, "#1976d2", "a", 18, -10);
            drawArrow(ctx, B, E, "#f57c00", "b", 10, -10);
            drawArrow(ctx, E, F, "#8e24aa", "c", 10, 10);

            drawArrow(ctx, A, C, "#f57c00", "b", -18, -10, false);
            drawArrow(ctx, C, G, "#8e24aa", "c", -10, 10, false);
            drawArrow(ctx, G, F, "#1976d2", "a", 10, 18, false);

            // Draw points
            drawPoint(ctx, A, "A", "#607d8b");
            drawPoint(ctx, B, "B", "#607d8b");
            drawPoint(ctx, C, "C", "#607d8b");
            drawPoint(ctx, D, "D", "#607d8b");
            drawPoint(ctx, E, "E", "#607d8b");
            drawPoint(ctx, F, "F", "#607d8b");
            drawPoint(ctx, G, "G", "#607d8b");
        }

        // Helper: draw arrow from p1 to p2
        function drawArrow(ctx, p1, p2, color, label, dx=0, dy=0, solid=true) {
            ctx.save();
            ctx.strokeStyle = color;
            ctx.fillStyle = color;
            ctx.lineWidth = 2.5;
            if (!solid) ctx.setLineDash([5, 4]);
            ctx.beginPath();
            ctx.moveTo(p1.x, p1.y);
            ctx.lineTo(p2.x, p2.y);
            ctx.stroke();
            ctx.setLineDash([]);

            // Arrowhead
            const angle = Math.atan2(p2.y - p1.y, p2.x - p1.x);
            const len = 12;
            ctx.beginPath();
            ctx.moveTo(p2.x, p2.y);
            ctx.lineTo(p2.x - len * Math.cos(angle - Math.PI / 7), p2.y - len * Math.sin(angle - Math.PI / 7));
            ctx.lineTo(p2.x - len * Math.cos(angle + Math.PI / 7), p2.y - len * Math.sin(angle + Math.PI / 7));
            ctx.lineTo(p2.x, p2.y);
            ctx.fill();

            // Label
            if (label) {
                ctx.font = "bold 15px Segoe UI";
                ctx.fillText(label, (p1.x + p2.x) / 2 + dx, (p1.y + p2.y) / 2 + dy);
            }
            ctx.restore();
        }

        // Helper: draw point with label
        function drawPoint(ctx, p, label, color) {
            ctx.save();
            ctx.beginPath();
            ctx.arc(p.x, p.y, 3.5, 0, 2 * Math.PI);
            ctx.fillStyle = color;
            ctx.fill();
            ctx.font = "bold 13px Segoe UI";
            ctx.fillText(label, p.x - 12, p.y + 18);
            ctx.restore();
        }

        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "$$", right: "$$", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ]
            });
            drawCommutative(document.getElementById("commutative"));
            drawAssociative(document.getElementById("associative"));
        });
    </script>
</body>
</html>